% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/actflow_nested_cv.R
\name{actflow_nested_cv}
\alias{actflow_nested_cv}
\title{Leakage-proof nested CV for actflow model selection}
\usage{
actflow_nested_cv(
  data,
  outer_folds = 5,
  inner_folds = 5,
  estimator_grid,
  seed = NULL,
  save_splits = TRUE,
  artifact_path = NULL,
  selection_metric = c("corr", "R2", "mae"),
  comparison = "fullcompare_compthenavg",
  transfer = c("linear", "relu", "sigmoid", "logit"),
  use_cpp = TRUE,
  ...
)
}
\arguments{
\item{data}{A list with \code{rest_group} and \code{task_group} arrays, each 3D.
Optional \code{task_group_test} can be supplied for evaluation targets.}

\item{outer_folds}{Number of outer subject folds.}

\item{inner_folds}{Number of inner subject folds used for model selection.}

\item{estimator_grid}{Candidate estimators/hyperparameters as a list or data frame.
For list input, each candidate should contain a \code{method} field and optional
\code{params} list. For data frame input, include a \code{method} column and parameter columns.}

\item{seed}{Optional RNG seed for reproducible folds and bootstrap-like sampling.}

\item{save_splits}{If \code{TRUE}, include detailed fold assignments in output.}

\item{artifact_path}{Optional path to persist nested-CV artifacts as JSON.}

\item{selection_metric}{Metric used to select the winning candidate in inner CV.
One of \code{corr}, \code{R2}, or \code{mae}.}

\item{comparison}{Comparison mode passed to \code{\link[=actflow_test]{actflow_test()}}. Currently
nested CV supports \code{fullcompare_compthenavg}.}

\item{transfer}{Transfer function passed to \code{\link[=actflow_test]{actflow_test()}}.}

\item{use_cpp}{Use native kernels when available.}

\item{...}{Reserved for forward compatibility.}
}
\value{
A list with outer metrics, selected hyperparameters, split artifacts,
and a reproducibility manifest.
}
\description{
Leakage-proof nested CV for actflow model selection
}
